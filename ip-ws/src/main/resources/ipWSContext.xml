<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd">
	<import resource="classpath:ipORMContext.xml" />
	<bean id="adminService" class="za.co.idea.ip.ws.AdminService">
		<property name="ipGroupDAO" ref="IpGroupDAO" />
		<property name="ipUserDAO" ref="IpUserDAO" />
		<property name="ipLoginDAO" ref="IpLoginDAO" />
		<property name="ipFunctionDAO" ref="IpFunctionDAO" />
		<property name="ipNativeSQLDAO" ref="IpNativeSQLDAO" />
		<property name="ipGroupUserDAO" ref="IpGroupUserDAO" />
		<property name="ipFuncGroupDAO" ref="IpFuncGroupDAO" />
	</bean>
	<bean id="ideaService" class="za.co.idea.ip.ws.IdeaService">
		<property name="ipIdeaCatDAO" ref="IpIdeaCatDAO" />
		<property name="ipIdeaDAO" ref="IpIdeaDAO" />
		<property name="ipIdeaStatusDAO" ref="IpIdeaStatusDAO" />
		<property name="ipUserDAO" ref="IpUserDAO" />
		<property name="ipIdeaGroupDAO" ref="IpIdeaGroupDAO" />
		<property name="ipGroupDAO" ref="IpGroupDAO" />
		<property name="ipNativeSQLDAO" ref="IpNativeSQLDAO" />
	</bean>
	<bean id="tagService" class="za.co.idea.ip.ws.TagService">
		<property name="ipChallengeDAO" ref="IpChallengeDAO" />
		<property name="ipIdeaDAO" ref="IpIdeaDAO" />
		<property name="ipSolutionDAO" ref="IpSolutionDAO" />
		<property name="ipTagDAO" ref="IpTagDAO" />
		<property name="ipTagEntityTypeDAO" ref="IpTagEntityTypeDAO" />
		<property name="ipTagTypeDAO" ref="IpTagTypeDAO" />
		<property name="ipUserDAO" ref="IpUserDAO" />
	</bean>
	<bean id="challengeService" class="za.co.idea.ip.ws.ChallengeService">
		<property name="ipChallengeCatDAO" ref="IpChallengeCatDAO" />
		<property name="ipChallengeStatusDAO" ref="IpChallengeStatusDAO" />
		<property name="ipChallengeDAO" ref="IpChallengeDAO" />
		<property name="ipUserDAO" ref="IpUserDAO" />
		<property name="ipGroupDAO" ref="IpGroupDAO" />
		<property name="ipNativeSQLDAO" ref="IpNativeSQLDAO" />
		<property name="ipChallengeGroupDAO" ref="IpChallengeGroupDAO" />
	</bean>
	<bean id="solutionService" class="za.co.idea.ip.ws.SolutionService">
		<property name="ipSolutionCatDAO" ref="IpSolutionCatDAO" />
		<property name="ipSolutionStatusDAO" ref="IpSolutionStatusDAO" />
		<property name="ipSolutionDAO" ref="IpSolutionDAO" />
		<property name="ipUserDAO" ref="IpUserDAO" />
		<property name="ipChallengeDAO" ref="IpChallengeDAO" />
	</bean>
	<bean id="rewardsService" class="za.co.idea.ip.ws.RewardsService" lazy-init="false">
		<property name="ipUserDAO" ref="IpUserDAO" />
		<property name="ipRewardsCatDAO" ref="IpRewardsCatDAO" />
		<property name="ipRewardsDAO" ref="IpRewardsDAO" />
		<property name="ipRewardsGroupDAO" ref="IpRewardsGroupDAO" />
		<property name="ipAllocationDAO" ref="IpAllocationDAO" />
		<property name="ipPointsDAO" ref="IpPointsDAO" />
		<property name="ipNativeSQLDAO" ref="IpNativeSQLDAO" />
		<property name="ipGroupDAO" ref="IpGroupDAO" />
		<property name="ipBlobDAO" ref="IpBlobDAO" />
	</bean>
	<bean id="claimService" class="za.co.idea.ip.ws.ClaimService">
		<property name="ipUserDAO" ref="IpUserDAO" />
		<property name="ipClaimDAO" ref="IpClaimDAO" />
		<property name="ipClaimStatusDAO" ref="IpClaimStatusDAO" />
		<property name="ipRewardsDAO" ref="IpRewardsDAO" />
	</bean>
	<bean id="metaDataService" class="za.co.idea.ip.ws.MetaDataService">
		<property name="ipChallengeCatDAO" ref="IpChallengeCatDAO" />
		<property name="ipChallengeStatusDAO" ref="IpChallengeStatusDAO" />
		<property name="ipClaimStatusDAO" ref="IpClaimStatusDAO" />
		<property name="ipIdeaCatDAO" ref="IpIdeaCatDAO" />
		<property name="ipIdeaStatusDAO" ref="IpIdeaStatusDAO" />
		<property name="ipRewardsCatDAO" ref="IpRewardsCatDAO" />
		<property name="ipSolutionCatDAO" ref="IpSolutionCatDAO" />
		<property name="ipSolutionStatusDAO" ref="IpSolutionStatusDAO" />
		<property name="ipSecqListDAO" ref="IpSecqListDAO" />
		<property name="IpCategoryDAO" ref="IpCategoryDAO" />
	</bean>
	<bean id="documentUploadService" class="za.co.idea.ip.ws.DocumentUploadService">
		<property name="ipBlobDAO" ref="IpBlobDAO" />
	</bean>
	<bean id="newsService" class="za.co.idea.ip.ws.NewsService">
		<property name="ipNewsDAO" ref="IpNewsDAO" />
	</bean>
	<bean id="notificationService" class="za.co.idea.ip.ws.NotificationService">
		<property name="ipNativeSQLDAO" ref="IpNativeSQLDAO" />
		<property name="ipNotifGroupDAO" ref="IpNotifGroupDAO" />
		<property name="ipNotifDAO" ref="IpNotifDAO" />
	</bean>
	<bean id="ChallengeExpiryJob" class="org.springframework.scheduling.quartz.JobDetailBean">
		<property name="jobClass" value="za.co.idea.ip.jobs.ChallengeExpiryJob" />
		<property name="jobDataAsMap">
			<map>
				<entry key="ipChallengeDAO" value-ref="IpChallengeDAO" />
			</map>
		</property>
	</bean>
	<bean id="NotificationEmailJob" class="org.springframework.scheduling.quartz.JobDetailBean">
		<property name="jobClass" value="za.co.idea.ip.jobs.NotificationEmailJob" />
		<property name="jobDataAsMap">
			<map>
				<entry key="ipNotifDAO" value-ref="IpNotifDAO" />
				<entry key="ipNotifGroupDAO" value-ref="IpNotifGroupDAO" />
				<entry key="ipGroupUserDAO" value-ref="IpGroupUserDAO" />
				<entry key="ipUserDAO" value-ref="IpUserDAO" />
				<entry key="sender" value-ref="mailSender" />
			</map>
		</property>
	</bean>
	<bean id="ChallengeExpiryJobTrigger" class="org.springframework.scheduling.quartz.CronTriggerBean">
		<property name="jobDetail" ref="ChallengeExpiryJob" />
		<property name="cronExpression" value="0 0/10 * * * ?" />
	</bean>
	<bean id="NotificationEmailJobTrigger" class="org.springframework.scheduling.quartz.CronTriggerBean">
		<property name="jobDetail" ref="NotificationEmailJob" />
		<property name="cronExpression" value="0 0/10 * * * ?" />
	</bean>
	<bean id="schedulerFactory" class="org.springframework.scheduling.quartz.SchedulerFactoryBean">
		<property name="triggers">
			<list>
				<ref bean="ChallengeExpiryJobTrigger" />
			</list>
		</property>
	</bean>
	<bean id="mailSender" class="org.springframework.mail.javamail.JavaMailSenderImpl">
		<property name="host" value=" vpbrjhbpexc02.corp.primedia.co.za" />
		<property name="port" value="25" />
		<property name="javaMailProperties">
			<props>
				<prop key="mail.smtp.auth">false</prop>
				<prop key="mail.smtp.starttls.enable">true</prop>
			</props>
		</property>
	</bean>

</beans>